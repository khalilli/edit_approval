{"ast":null,"code":"import _objectSpread from\"/home/user/Downloads/socar_tree_view/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/user/Downloads/socar_tree_view/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/user/Downloads/socar_tree_view/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ShareOfCompaniesComponent from\"./ShareOfCompaniesComponents\";import useStore from'../../../stores/useStore';import shallow from'zustand/shallow';import initiateWorkflow from\"../../api/initiateWorkflow\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var getState=function getState(state){return[state.companyShares,state.companySharesWarn,state.getCompanyShares];};var ShareOfCompanies=function ShareOfCompanies(){var _useStore=useStore(getState,shallow),_useStore2=_slicedToArray(_useStore,3),companyShares=_useStore2[0],companySharesWarn=_useStore2[1],getCompanyShares=_useStore2[2];useEffect(function(){getCompanyShares();},[getCompanyShares]);var _useState=useState(companyShares),_useState2=_slicedToArray(_useState,2),companyNameShare=_useState2[0],setCompanyNameShare=_useState2[1];useEffect(function(){setCompanyNameShare(companyShares);},[companyShares]);console.log(companyNameShare);var changeNameShare=function changeNameShare(e,id){var values=_toConsumableArray(companyNameShare);values[id][e.target.name]=e.target.value;setCompanyNameShare(values);};var addShare=function addShare(){setCompanyNameShare([].concat(_toConsumableArray(companyNameShare),[{Y:\"\",CNAME:\"\"}]));};var deleteNameShare=function deleteNameShare(id){console.log(id);var list=_toConsumableArray(companyNameShare);list.splice(id,1);setCompanyNameShare(list);};var args={companyNameShare:companyNameShare,companySharesWarn:companySharesWarn,changeNameShare:changeNameShare,addShare:addShare,deleteNameShare:deleteNameShare,onSubmitForm:function onSubmitForm(){var args={companyShares:companyNameShare};initiateWorkflow(args);}};return/*#__PURE__*/_jsx(ShareOfCompaniesComponent,_objectSpread({},args));};export default ShareOfCompanies;","map":{"version":3,"sources":["/home/user/Downloads/socar_tree_view/src/feautures/shareOfCompanies/views/ShareOfCompanies.js"],"names":["ShareOfCompaniesComponent","useStore","shallow","initiateWorkflow","useEffect","useState","getState","state","companyShares","companySharesWarn","getCompanyShares","ShareOfCompanies","companyNameShare","setCompanyNameShare","console","log","changeNameShare","e","id","values","target","name","value","addShare","Y","CNAME","deleteNameShare","list","splice","args","onSubmitForm"],"mappings":"qXAAA,MAAOA,CAAAA,yBAAP,KAAsC,8BAAtC,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,4BAA7B,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,C,2CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,QAAI,CACtBA,KAAK,CAACC,aADgB,CAEtBD,KAAK,CAACE,iBAFgB,CAGtBF,KAAK,CAACG,gBAHgB,CAAJ,EAAtB,CAMA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3B,cAA6DV,QAAQ,CAACK,QAAD,CAAWJ,OAAX,CAArE,wCAAOM,aAAP,eAAsBC,iBAAtB,eAAyCC,gBAAzC,eACAN,SAAS,CAAC,UAAI,CACVM,gBAAgB,GACnB,CAFQ,CAEN,CAACA,gBAAD,CAFM,CAAT,CAIA,cAAgDL,QAAQ,CAACG,aAAD,CAAxD,wCAAOI,gBAAP,eAAyBC,mBAAzB,eAEAT,SAAS,CAAC,UAAM,CACdS,mBAAmB,CAACL,aAAD,CAAnB,CACD,CAFQ,CAEN,CAACA,aAAD,CAFM,CAAT,CAIAM,OAAO,CAACC,GAAR,CAAYH,gBAAZ,EAEA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAIC,EAAJ,CAAW,CACjC,GAAMC,CAAAA,MAAM,oBAAOP,gBAAP,CAAZ,CACAO,MAAM,CAACD,EAAD,CAAN,CAAWD,CAAC,CAACG,MAAF,CAASC,IAApB,EAA4BJ,CAAC,CAACG,MAAF,CAASE,KAArC,CACAT,mBAAmB,CAACM,MAAD,CAAnB,CACD,CAJD,CAKA,GAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBV,mBAAmB,8BAAKD,gBAAL,GAAuB,CAACY,CAAC,CAAE,EAAJ,CAAQC,KAAK,CAAE,EAAf,CAAvB,GAAnB,CACD,CAFD,CAGA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACR,EAAD,CAAQ,CAC9BJ,OAAO,CAACC,GAAR,CAAYG,EAAZ,EACA,GAAMS,CAAAA,IAAI,oBAAOf,gBAAP,CAAV,CACAe,IAAI,CAACC,MAAL,CAAYV,EAAZ,CAAgB,CAAhB,EACAL,mBAAmB,CAACc,IAAD,CAAnB,CACD,CALD,CAOA,GAAME,CAAAA,IAAI,CAAG,CACTjB,gBAAgB,CAAhBA,gBADS,CAETH,iBAAiB,CAAjBA,iBAFS,CAGTO,eAAe,CAAfA,eAHS,CAITO,QAAQ,CAARA,QAJS,CAKTG,eAAe,CAAfA,eALS,CAMTI,YAAY,CAAE,uBAAM,CAChB,GAAMD,CAAAA,IAAI,CAAG,CACTrB,aAAa,CAAEI,gBADN,CAAb,CAGAT,gBAAgB,CAAC0B,IAAD,CAAhB,CACH,CAXQ,CAAb,CAcA,mBAAO,KAAC,yBAAD,kBAA+BA,IAA/B,EAAP,CACH,CA5CD,CA8CA,cAAelB,CAAAA,gBAAf","sourcesContent":["import ShareOfCompaniesComponent from \"./ShareOfCompaniesComponents\";\r\nimport useStore from '../../../stores/useStore';\r\nimport shallow from 'zustand/shallow';\r\nimport initiateWorkflow from \"../../api/initiateWorkflow\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst getState = state => [\r\n    state.companyShares,\r\n    state.companySharesWarn,\r\n    state.getCompanyShares\r\n];\r\n\r\nconst ShareOfCompanies = () => {\r\n    const [companyShares, companySharesWarn, getCompanyShares] = useStore(getState, shallow);\r\n    useEffect(()=>{\r\n        getCompanyShares();\r\n    }, [getCompanyShares]);\r\n\r\n    const [companyNameShare, setCompanyNameShare] = useState(companyShares);\r\n\r\n    useEffect(() => {\r\n      setCompanyNameShare(companyShares);\r\n    }, [companyShares]);\r\n  \r\n    console.log(companyNameShare);\r\n  \r\n    const changeNameShare = (e, id) => {\r\n      const values = [...companyNameShare];\r\n      values[id][e.target.name] = e.target.value;\r\n      setCompanyNameShare(values);\r\n    }\r\n    const addShare = () => {\r\n      setCompanyNameShare([...companyNameShare, {Y: \"\", CNAME: \"\"}]);\r\n    }\r\n    const deleteNameShare = (id) => {\r\n      console.log(id);\r\n      const list = [...companyNameShare];\r\n      list.splice(id, 1);\r\n      setCompanyNameShare(list);\r\n    }\r\n\r\n    const args = {\r\n        companyNameShare,\r\n        companySharesWarn,\r\n        changeNameShare,\r\n        addShare,\r\n        deleteNameShare,\r\n        onSubmitForm: () => {\r\n            const args = {\r\n                companyShares: companyNameShare\r\n            };\r\n            initiateWorkflow(args);\r\n        }\r\n    }\r\n\r\n    return <ShareOfCompaniesComponent {...args} />\r\n}\r\n\r\nexport default ShareOfCompanies;"]},"metadata":{},"sourceType":"module"}