{"ast":null,"code":"var _jsxFileName = \"/home/user/Downloads/socar_tree_view/src/feautures/boardMembers/views/BoardMembers.js\",\n    _s = $RefreshSig$();\n\nimport BoardMembersComponent from \"./BoardMembersComponent\";\nimport useStore from '../../../stores/useStore';\nimport shallow from 'zustand/shallow';\nimport initiateWorkflow from \"../../api/initiateWorkflow\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getState = state => [state.directorList, state.getDirectors, state.representativeList, state.getRepresentatives, state.repListWarn, state.dirListWarn, state.initWorkflow];\n\nconst BoardMembers = () => {\n  _s();\n\n  const [directorList, getDirectors, representativeList, getRepresentatives, repListWarn, dirListWarn, initWorkflow] = useStore(getState, shallow);\n  useEffect(() => {\n    getDirectors();\n  }, [getDirectors]);\n  useEffect(() => {\n    getRepresentatives();\n  }, [getRepresentatives]);\n  const [names, setNames] = useState(directorList);\n  const [namesR, setNamesR] = useState(representativeList);\n  useEffect(() => {\n    setNames(directorList);\n  }, [directorList]);\n  useEffect(() => {\n    setNamesR(representativeList);\n  }, [representativeList]);\n\n  const handleChangeDirectors = (event, id) => {\n    const values = [...names];\n    values[id][event.target.name] = event.target.value;\n    setNames(values);\n  };\n\n  const handleChangeRep = (event, id) => {\n    const valuesR = [...namesR];\n    valuesR[id][event.target.name] = event.target.value;\n    setNamesR(valuesR);\n  };\n\n  const addName = () => {\n    setNames([...names, {\n      dirname: \"\"\n    }]);\n  };\n\n  const addNameR = () => {\n    setNamesR([...namesR, {\n      repname: \"\"\n    }]);\n  };\n\n  const deleteName = (e, id) => {\n    e.preventDefault();\n    const list = [...names];\n    list.splice(id, 1);\n    setNames(list);\n  };\n\n  const deleteNameR = (e, id) => {\n    e.preventDefault();\n    const list = [...namesR];\n    list.splice(id, 1);\n    setNamesR(list);\n  }; //remove keys for tag\n\n\n  const namesValue = [];\n  const namesRValue = [];\n\n  for (var i = 0; i < names.length; i++) {\n    namesValue.push(names[i].dirname);\n  }\n\n  for (var j = 0; j < namesR.length; j++) {\n    namesRValue.push(namesR[j].repname);\n  } // check if any change happened\n\n\n  var checkChangeDir = false;\n  var checkChangeRep = false;\n\n  if (dirListWarn.length !== names.length) {\n    checkChangeDir = true;\n  } else {\n    for (var n = 0; n < dirListWarn.length; n++) {\n      if (dirListWarn[n].dirname !== names[n].dirname) {\n        checkChangeDir = true;\n      }\n    }\n  }\n\n  if (reoListWarn.length !== names.length) {\n    checkChangeDir = true;\n  } else {\n    for (var n = 0; n < dirListWarn.length; n++) {\n      if (dirListWarn[n].dirname !== names[n].dirname) {\n        checkChangeDir = true;\n      }\n    }\n  }\n\n  console.log(repListWarn);\n  console.log(namesR);\n  const args = {\n    names,\n    namesR,\n    handleChangeDirectors,\n    handleChangeRep,\n    addName,\n    addNameR,\n    deleteName,\n    deleteNameR,\n    onSubmitForm: () => {\n      let params = new URLSearchParams(window.location.search);\n      let key = parseInt(params.get(\"key\"));\n      const args = {\n        cid: key,\n        directorList: namesValue,\n        directorLength: namesValue.length,\n        representativeList: namesRValue,\n        representativeLength: namesRValue.length\n      };\n      initiateWorkflow(args);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(BoardMembersComponent, { ...args\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 12\n  }, this);\n};\n\n_s(BoardMembers, \"6FZBve9l1TyZP/tTWsCPTU464PU=\", false, function () {\n  return [useStore];\n});\n\n_c = BoardMembers;\nexport default BoardMembers;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardMembers\");","map":{"version":3,"sources":["/home/user/Downloads/socar_tree_view/src/feautures/boardMembers/views/BoardMembers.js"],"names":["BoardMembersComponent","useStore","shallow","initiateWorkflow","useEffect","useState","getState","state","directorList","getDirectors","representativeList","getRepresentatives","repListWarn","dirListWarn","initWorkflow","BoardMembers","names","setNames","namesR","setNamesR","handleChangeDirectors","event","id","values","target","name","value","handleChangeRep","valuesR","addName","dirname","addNameR","repname","deleteName","e","preventDefault","list","splice","deleteNameR","namesValue","namesRValue","i","length","push","j","checkChangeDir","checkChangeRep","n","reoListWarn","console","log","args","onSubmitForm","params","URLSearchParams","window","location","search","key","parseInt","get","cid","directorLength","representativeLength"],"mappings":"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","sourcesContent":["import BoardMembersComponent from \"./BoardMembersComponent\";\r\nimport useStore from '../../../stores/useStore';\r\nimport shallow from 'zustand/shallow';\r\nimport initiateWorkflow from \"../../api/initiateWorkflow\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst getState = state => [\r\n    state.directorList,\r\n    state.getDirectors,\r\n    state.representativeList,\r\n    state.getRepresentatives,\r\n    state.repListWarn,\r\n    state.dirListWarn,\r\n    state.initWorkflow\r\n];\r\n\r\nconst BoardMembers = () => {\r\n    const [directorList, getDirectors, representativeList, getRepresentatives, repListWarn, dirListWarn, initWorkflow] = useStore(getState, shallow);\r\n\r\n    useEffect(()=>{\r\n        getDirectors();\r\n    }, [getDirectors]);\r\n\r\n    useEffect(()=>{\r\n        getRepresentatives();\r\n    }, [getRepresentatives]);\r\n\r\n    const [names, setNames] = useState(directorList);\r\n    const [namesR, setNamesR] = useState(representativeList);\r\n\r\n    useEffect(() => {\r\n      setNames(directorList);\r\n    }, [directorList]);\r\n    useEffect(() => {\r\n      setNamesR(representativeList);\r\n    }, [representativeList]);\r\n\r\n    const handleChangeDirectors = (event, id) => {\r\n        const values = [...names];\r\n        values[id][event.target.name] = event.target.value;\r\n        setNames(values);\r\n    };\r\n    const handleChangeRep = (event, id) => {\r\n        const valuesR = [...namesR];\r\n        valuesR[id][event.target.name] = event.target.value;\r\n        setNamesR(valuesR);\r\n    };\r\n\r\n    const addName = () => {\r\n        setNames([...names, {dirname: \"\"}]);\r\n    };\r\n      const addNameR = () => {\r\n        setNamesR([...namesR, {repname: \"\"}]);\r\n    };\r\n    const deleteName = (e, id) => {\r\n        e.preventDefault();\r\n        const list = [...names];  \r\n        list.splice(id, 1);\r\n        setNames(list);\r\n    };\r\n    const deleteNameR = (e, id) => {\r\n       e.preventDefault();\r\n       const list = [...namesR];\r\n       list.splice(id, 1);\r\n       setNamesR(list);\r\n    };\r\n    //remove keys for tag\r\n    const namesValue = [];\r\n    const namesRValue = [];\r\n    for (var i=0;i<names.length;i++){\r\n        namesValue.push(names[i].dirname);\r\n    }\r\n    for (var j=0;j<namesR.length;j++){\r\n        namesRValue.push(namesR[j].repname);\r\n    }\r\n    // check if any change happened\r\n    var checkChangeDir = false;\r\n    var checkChangeRep = false;\r\n    if (dirListWarn.length !== names.length){\r\n        checkChangeDir = true;\r\n    }else{\r\n        for(var n=0;n<dirListWarn.length;n++){\r\n            if(dirListWarn[n].dirname !== names[n].dirname){\r\n                checkChangeDir = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (reoListWarn.length !== names.length){\r\n        checkChangeDir = true;\r\n    }else{\r\n        for(var n=0;n<dirListWarn.length;n++){\r\n            if(dirListWarn[n].dirname !== names[n].dirname){\r\n                checkChangeDir = true;\r\n            }\r\n        }\r\n    }\r\n    console.log(repListWarn);\r\n    console.log(namesR);\r\n\r\n    const args = {\r\n        names,\r\n        namesR,\r\n        handleChangeDirectors,\r\n        handleChangeRep,\r\n        addName,\r\n        addNameR,\r\n        deleteName,\r\n        deleteNameR,\r\n        onSubmitForm: () => {\r\n            let params = new URLSearchParams(window.location.search);\r\n            let key = parseInt(params.get(\"key\"));\r\n            const args = {\r\n                cid: key,\r\n                directorList: namesValue,\r\n                directorLength: namesValue.length,\r\n                representativeList: namesRValue,\r\n                representativeLength: namesRValue.length\r\n            };\r\n            initiateWorkflow(args);\r\n        }\r\n    };\r\n    return <BoardMembersComponent {...args} />\r\n}\r\n\r\nexport default BoardMembers;"]},"metadata":{},"sourceType":"module"}